<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>foobar2000 SDK: metadb_handle</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">foobar2000 SDK
   &#160;<span id="projectnumber">2015-01-14</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">metadb_handle<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d2/dd4/metadb__handle_8h_source.html">metadb_handle.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Inheritance diagram for metadb_handle:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="../../de/d38/classmetadb__handle.png" usemap="#metadb_handle_map" alt=""/>
  <map id="metadb_handle_map" name="metadb_handle_map">
<area href="../../de/dc3/classservice__base.html" title="Base class for all service classes. Provides interfaces for reference counter and querying for differ..." alt="service_base" shape="rect" coords="0,0,97,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a375c54e1c21897199ab21152543c1ad5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a375c54e1c21897199ab21152543c1ad5">__declspec</a> (deprecated) virtual void metadb_lock()=0</td></tr>
<tr class="separator:a375c54e1c21897199ab21152543c1ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66bff38f5f0479571e0bd12ee2b79e64"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a66bff38f5f0479571e0bd12ee2b79e64">__declspec</a> (deprecated) virtual void metadb_unlock()=0</td></tr>
<tr class="separator:a66bff38f5f0479571e0bd12ee2b79e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af16aad7147a43a8abfa951d33246da83"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#af16aad7147a43a8abfa951d33246da83">__declspec</a> (deprecated) virtual bool get_info_locked(<a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../de/dff/classfile__info.html">file_info</a> *&amp;p_info) <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> =0</td></tr>
<tr class="separator:af16aad7147a43a8abfa951d33246da83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad93101d52d2cd2eb512a25c35dd42778"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#ad93101d52d2cd2eb512a25c35dd42778">__declspec</a> (deprecated) virtual bool get_info_async_locked(<a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../de/dff/classfile__info.html">file_info</a> *&amp;p_info) <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> =0</td></tr>
<tr class="separator:ad93101d52d2cd2eb512a25c35dd42778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a746e3a683632c6eff01bff477a23c2e1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a746e3a683632c6eff01bff477a23c2e1">__declspec</a> (deprecated) virtual bool format_title_nonlocking(<a class="el" href="../../d7/d1c/classtitleformat__hook.html">titleformat_hook</a> *<a class="el" href="../../de/d38/classmetadb__handle.html#a26ccb9226f0af78bdbf5860cd2d3bac0">p_hook</a></td></tr>
<tr class="separator:a746e3a683632c6eff01bff477a23c2e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33b0790e900be9a87e8d73c686ea13d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a33b0790e900be9a87e8d73c686ea13d4">__declspec</a> (deprecated) virtual void format_title_from_external_info_nonlocking(<a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../de/dff/classfile__info.html">file_info</a> &amp;p_info</td></tr>
<tr class="separator:a33b0790e900be9a87e8d73c686ea13d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4168d70378f905b387e28249ad6b0426"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a4168d70378f905b387e28249ad6b0426">__declspec</a> (deprecated) virtual bool get_browse_info_locked(<a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../de/dff/classfile__info.html">file_info</a> *&amp;p_info</td></tr>
<tr class="separator:a4168d70378f905b387e28249ad6b0426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a575aaf2da276f72a9eecf04619e4c181"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a575aaf2da276f72a9eecf04619e4c181">FB2K_MAKE_SERVICE_INTERFACE</a> (<a class="el" href="../../de/d38/classmetadb__handle.html">metadb_handle</a>, <a class="el" href="../../de/dc3/classservice__base.html">service_base</a>)</td></tr>
<tr class="separator:a575aaf2da276f72a9eecf04619e4c181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa909970eb0cf94a936b92970ecce7ae"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#aaa909970eb0cf94a936b92970ecce7ae">format_title</a> (<a class="el" href="../../d7/d1c/classtitleformat__hook.html">titleformat_hook</a> *<a class="el" href="../../de/d38/classmetadb__handle.html#a26ccb9226f0af78bdbf5860cd2d3bac0">p_hook</a>, <a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a> &amp;<a class="el" href="../../de/d38/classmetadb__handle.html#a0fa2dc40d438fe91a0ad3a8b905c2885">p_out</a>, <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t</a>&lt; <a class="el" href="../../d2/d9c/classtitleformat__object.html">titleformat_object</a> &gt; &amp;<a class="el" href="../../de/d38/classmetadb__handle.html#a7debed447775e1e9dbc22393fd9e7a7c">p_script</a>, <a class="el" href="../../dd/ddd/classtitleformat__text__filter.html">titleformat_text_filter</a> *<a class="el" href="../../de/d38/classmetadb__handle.html#a88c3f0ae49bce58eb610ab6f716fff85">p_filter</a>)=0</td></tr>
<tr class="separator:aaa909970eb0cf94a936b92970ecce7ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5a0d1abb2635b26e5ab8d072edaa982"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#ab5a0d1abb2635b26e5ab8d072edaa982">format_title_from_external_info</a> (<a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../de/dff/classfile__info.html">file_info</a> &amp;p_info, <a class="el" href="../../d7/d1c/classtitleformat__hook.html">titleformat_hook</a> *<a class="el" href="../../de/d38/classmetadb__handle.html#a26ccb9226f0af78bdbf5860cd2d3bac0">p_hook</a>, <a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a> &amp;<a class="el" href="../../de/d38/classmetadb__handle.html#a0fa2dc40d438fe91a0ad3a8b905c2885">p_out</a>, <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t</a>&lt; <a class="el" href="../../d2/d9c/classtitleformat__object.html">titleformat_object</a> &gt; &amp;<a class="el" href="../../de/d38/classmetadb__handle.html#a7debed447775e1e9dbc22393fd9e7a7c">p_script</a>, <a class="el" href="../../dd/ddd/classtitleformat__text__filter.html">titleformat_text_filter</a> *<a class="el" href="../../de/d38/classmetadb__handle.html#a88c3f0ae49bce58eb610ab6f716fff85">p_filter</a>)=0</td></tr>
<tr class="separator:ab5a0d1abb2635b26e5ab8d072edaa982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d2138e3b58b4688f3ad854f93a66a1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#af5d2138e3b58b4688f3ad854f93a66a1">format_title_legacy</a> (<a class="el" href="../../d7/d1c/classtitleformat__hook.html">titleformat_hook</a> *<a class="el" href="../../de/d38/classmetadb__handle.html#a26ccb9226f0af78bdbf5860cd2d3bac0">p_hook</a>, <a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a> &amp;out, <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> char *p_spec, <a class="el" href="../../dd/ddd/classtitleformat__text__filter.html">titleformat_text_filter</a> *<a class="el" href="../../de/d38/classmetadb__handle.html#a88c3f0ae49bce58eb610ab6f716fff85">p_filter</a>)</td></tr>
<tr class="separator:af5d2138e3b58b4688f3ad854f93a66a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84658fa0786994c9467045dc96831450"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a84658fa0786994c9467045dc96831450">get_async_info_ref</a> (metadb_info_container::ptr &amp;outInfo) <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> =0</td></tr>
<tr class="separator:a84658fa0786994c9467045dc96831450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88e378aee694c8d718e2a5cdc3f27509"><td class="memItemLeft" align="right" valign="top">virtual metadb_info_container::ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a88e378aee694c8d718e2a5cdc3f27509">get_async_info_ref</a> () <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> =0</td></tr>
<tr class="separator:a88e378aee694c8d718e2a5cdc3f27509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79f1b9a3b39851601c57a1c8f092d547"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a79f1b9a3b39851601c57a1c8f092d547">get_browse_info</a> (<a class="el" href="../../de/dff/classfile__info.html">file_info</a> &amp;info, t_filetimestamp &amp;ts) <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> =0</td></tr>
<tr class="separator:a79f1b9a3b39851601c57a1c8f092d547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42ef7db2c1b6481493245d20644e4996"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a42ef7db2c1b6481493245d20644e4996">get_browse_info_merged</a> (<a class="el" href="../../de/dff/classfile__info.html">file_info</a> &amp;infoMerged) <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> </td></tr>
<tr class="separator:a42ef7db2c1b6481493245d20644e4996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd45e1c1910cde322e442fe9622d68c1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#abd45e1c1910cde322e442fe9622d68c1">get_browse_info_ref</a> (metadb_info_container::ptr &amp;outInfo, metadb_info_container::ptr &amp;outBrowse) <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> =0</td></tr>
<tr class="separator:abd45e1c1910cde322e442fe9622d68c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7237f5a49347135f0e179ec2c311e00a"><td class="memItemLeft" align="right" valign="top">t_filesize&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a7237f5a49347135f0e179ec2c311e00a">get_filesize</a> ()</td></tr>
<tr class="separator:a7237f5a49347135f0e179ec2c311e00a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3037f37d98dd9486737aa8387262ee0"><td class="memItemLeft" align="right" valign="top">virtual t_filestats&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#ac3037f37d98dd9486737aa8387262ee0">get_filestats</a> () <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> =0</td></tr>
<tr class="separator:ac3037f37d98dd9486737aa8387262ee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36a1ed7acfa41a0c40a9fca7dc9b6444"><td class="memItemLeft" align="right" valign="top">t_filetimestamp&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a36a1ed7acfa41a0c40a9fca7dc9b6444">get_filetimestamp</a> ()</td></tr>
<tr class="separator:a36a1ed7acfa41a0c40a9fca7dc9b6444"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22fb0fa1bb02538f3b07a758baa83c3c"><td class="memItemLeft" align="right" valign="top">metadb_info_container::ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a22fb0fa1bb02538f3b07a758baa83c3c">get_full_info_ref</a> (<a class="el" href="../../d8/d6a/classabort__callback.html">abort_callback</a> &amp;aborter) <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> </td></tr>
<tr class="separator:a22fb0fa1bb02538f3b07a758baa83c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63def7286c4944a17c5157ada9dbebaa"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a63def7286c4944a17c5157ada9dbebaa">get_info</a> (<a class="el" href="../../de/dff/classfile__info.html">file_info</a> &amp;p_info) <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> =0</td></tr>
<tr class="separator:a63def7286c4944a17c5157ada9dbebaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf320a2c3b91814b3369ac8f90001d45"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#abf320a2c3b91814b3369ac8f90001d45">get_info_async</a> (<a class="el" href="../../de/dff/classfile__info.html">file_info</a> &amp;p_info) <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> =0</td></tr>
<tr class="separator:abf320a2c3b91814b3369ac8f90001d45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace1574d21eda06a50fd7103674113f02"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#ace1574d21eda06a50fd7103674113f02">get_info_ref</a> (metadb_info_container::ptr &amp;outInfo) <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> =0</td></tr>
<tr class="separator:ace1574d21eda06a50fd7103674113f02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7239b98da5beaa1ffd7bfffc71ca01c"><td class="memItemLeft" align="right" valign="top">virtual metadb_info_container::ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#ac7239b98da5beaa1ffd7bfffc71ca01c">get_info_ref</a> () <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> =0</td></tr>
<tr class="separator:ac7239b98da5beaa1ffd7bfffc71ca01c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4faa30071c5b32cb71fb30d2575f4002"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a4faa30071c5b32cb71fb30d2575f4002">get_length</a> ()</td></tr>
<tr class="separator:a4faa30071c5b32cb71fb30d2575f4002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d36e1903df8cb3657f2f7f2fff28b1"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../d6/d67/classplayable__location.html">playable_location</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#ac3d36e1903df8cb3657f2f7f2fff28b1">get_location</a> () <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> =0</td></tr>
<tr class="separator:ac3d36e1903df8cb3657f2f7f2fff28b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0a42fb64297c961da9e2d2a5df3230d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#ad0a42fb64297c961da9e2d2a5df3230d">get_path</a> () <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> </td></tr>
<tr class="separator:ad0a42fb64297c961da9e2d2a5df3230d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade984867c7257131af453f2224d4d1e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8c/int__types_8h.html#ae3414e477e7bba6c40aac28eb0b5299c">t_uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#ade984867c7257131af453f2224d4d1e1">get_subsong_index</a> () <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> </td></tr>
<tr class="separator:ade984867c7257131af453f2224d4d1e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ee4702b1f892f4bb95fed72cb39e85e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a2ee4702b1f892f4bb95fed72cb39e85e">is_info_loaded</a> () <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> =0</td></tr>
<tr class="separator:a2ee4702b1f892f4bb95fed72cb39e85e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4c4ee91c3e109c5c0ed67bb85070d26"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#af4c4ee91c3e109c5c0ed67bb85070d26">is_info_loaded_async</a> () <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> =0</td></tr>
<tr class="separator:af4c4ee91c3e109c5c0ed67bb85070d26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a785f5508666d66aed8eab54340f2ca7e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a785f5508666d66aed8eab54340f2ca7e">should_reload</a> (<a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> t_filestats &amp;p_new_stats, bool p_fresh) <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> </td></tr>
<tr class="separator:a785f5508666d66aed8eab54340f2ca7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classservice__base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classservice__base')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../de/dc3/classservice__base.html">service_base</a></td></tr>
<tr class="memitem:af2cc276f67ab3b078bcd13bbc641a8ef inherit pub_methods_classservice__base"><td class="memTemplParams" colspan="2">template&lt;typename outPtr_t &gt; </td></tr>
<tr class="memitem:af2cc276f67ab3b078bcd13bbc641a8ef inherit pub_methods_classservice__base"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../de/dc3/classservice__base.html#af2cc276f67ab3b078bcd13bbc641a8ef">cast</a> (outPtr_t &amp;outPtr)</td></tr>
<tr class="separator:af2cc276f67ab3b078bcd13bbc641a8ef inherit pub_methods_classservice__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12051e661aac1243dd8d12331b2e990f inherit pub_methods_classservice__base"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc3/classservice__base.html#a12051e661aac1243dd8d12331b2e990f">service_add_ref</a> ()=0  throw ()</td></tr>
<tr class="separator:a12051e661aac1243dd8d12331b2e990f inherit pub_methods_classservice__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7e9191b3e4a67ec54634d0b060105db inherit pub_methods_classservice__base"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc3/classservice__base.html#ae7e9191b3e4a67ec54634d0b060105db">service_query</a> (<a class="el" href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t</a>&lt; <a class="el" href="../../de/dc3/classservice__base.html">service_base</a> &gt; &amp;p_out, const <a class="el" href="../../d8/d0e/pfc_8h.html#dc/d09/structGUID">GUID</a> &amp;p_guid)</td></tr>
<tr class="separator:ae7e9191b3e4a67ec54634d0b060105db inherit pub_methods_classservice__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1d7ba7bef43832ab376e23abd373ee1 inherit pub_methods_classservice__base"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:ac1d7ba7bef43832ab376e23abd373ee1 inherit pub_methods_classservice__base"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../de/dc3/classservice__base.html#ac1d7ba7bef43832ab376e23abd373ee1">service_query_t</a> (<a class="el" href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t</a>&lt; <a class="el" href="../../d1/def/classT.html">T</a> &gt; &amp;p_out)</td></tr>
<tr class="separator:ac1d7ba7bef43832ab376e23abd373ee1 inherit pub_methods_classservice__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99322a49deafe40298b5ddf5c1b13158 inherit pub_methods_classservice__base"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc3/classservice__base.html#a99322a49deafe40298b5ddf5c1b13158">service_release</a> ()=0  throw ()</td></tr>
<tr class="separator:a99322a49deafe40298b5ddf5c1b13158 inherit pub_methods_classservice__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a54adc62da7b148426f5501c9e69095b9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a54adc62da7b148426f5501c9e69095b9">g_should_reload</a> (<a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> t_filestats &amp;p_old_stats, <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> t_filestats &amp;p_new_stats, bool p_fresh)</td></tr>
<tr class="separator:a54adc62da7b148426f5501c9e69095b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a804001b3e185be09dca8f385d283d004"><td class="memItemLeft" align="right" valign="top">t_filetimestamp &amp;ts&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> = 0</td></tr>
<tr class="separator:a804001b3e185be09dca8f385d283d004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88c3f0ae49bce58eb610ab6f716fff85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a> <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t</a>&lt; <a class="el" href="../../d2/d9c/classtitleformat__object.html">titleformat_object</a> &gt; <a class="el" href="../../dd/ddd/classtitleformat__text__filter.html">titleformat_text_filter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a88c3f0ae49bce58eb610ab6f716fff85">p_filter</a> = 0</td></tr>
<tr class="separator:a88c3f0ae49bce58eb610ab6f716fff85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a573784d5daa675ad694655e226f627da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d1c/classtitleformat__hook.html">titleformat_hook</a> <a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a> <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t</a>&lt; <a class="el" href="../../d2/d9c/classtitleformat__object.html">titleformat_object</a> &gt; <a class="el" href="../../dd/ddd/classtitleformat__text__filter.html">titleformat_text_filter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a573784d5daa675ad694655e226f627da">p_filter</a> = 0</td></tr>
<tr class="separator:a573784d5daa675ad694655e226f627da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26ccb9226f0af78bdbf5860cd2d3bac0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d1c/classtitleformat__hook.html">titleformat_hook</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a26ccb9226f0af78bdbf5860cd2d3bac0">p_hook</a></td></tr>
<tr class="separator:a26ccb9226f0af78bdbf5860cd2d3bac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fa2dc40d438fe91a0ad3a8b905c2885"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a0fa2dc40d438fe91a0ad3a8b905c2885">p_out</a></td></tr>
<tr class="separator:a0fa2dc40d438fe91a0ad3a8b905c2885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8bc696078615a6088ad78430fa772a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d1c/classtitleformat__hook.html">titleformat_hook</a> <a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#ac8bc696078615a6088ad78430fa772a8">p_out</a></td></tr>
<tr class="separator:ac8bc696078615a6088ad78430fa772a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7debed447775e1e9dbc22393fd9e7a7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a> <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t</a>&lt; <a class="el" href="../../d2/d9c/classtitleformat__object.html">titleformat_object</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a7debed447775e1e9dbc22393fd9e7a7c">p_script</a></td></tr>
<tr class="separator:a7debed447775e1e9dbc22393fd9e7a7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b24ab857897d1b5bf0107b835af56b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d1c/classtitleformat__hook.html">titleformat_hook</a> <a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a> <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t</a>&lt; <a class="el" href="../../d2/d9c/classtitleformat__object.html">titleformat_object</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d38/classmetadb__handle.html#a4b24ab857897d1b5bf0107b835af56b0">p_script</a></td></tr>
<tr class="separator:a4b24ab857897d1b5bf0107b835af56b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classservice__base"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classservice__base')"><img src="../../closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="../../de/dc3/classservice__base.html">service_base</a></td></tr>
<tr class="memitem:a5f22eca5d82cf34720053f8404d4a18a inherit pub_types_classservice__base"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../de/dc3/classservice__base.html">service_base</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc3/classservice__base.html#a5f22eca5d82cf34720053f8404d4a18a">t_interface</a></td></tr>
<tr class="separator:a5f22eca5d82cf34720053f8404d4a18a inherit pub_types_classservice__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classservice__base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classservice__base')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../de/dc3/classservice__base.html">service_base</a></td></tr>
<tr class="memitem:a7d53cf492e3cc2c056a076ad07cc5793 inherit pro_methods_classservice__base"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc3/classservice__base.html#a7d53cf492e3cc2c056a076ad07cc5793">service_base</a> ()</td></tr>
<tr class="separator:a7d53cf492e3cc2c056a076ad07cc5793 inherit pro_methods_classservice__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a9347cbc390ea9ce8eff50db4b8fa9 inherit pro_methods_classservice__base"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc3/classservice__base.html#a74a9347cbc390ea9ce8eff50db4b8fa9">~service_base</a> ()</td></tr>
<tr class="separator:a74a9347cbc390ea9ce8eff50db4b8fa9 inherit pro_methods_classservice__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a> object represents interface to reference-counted <a class="el" href="../../de/dff/classfile__info.html" title="Main interface class for information about some playable object. ">file_info</a> cache entry for the specified location.<br />
To obtain a <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a> to specific location, use <a class="el" href="../../d2/d18/classmetadb.html#aea7446c9e6ecf11764862c2a592c8406" title="Returns a metadb_handle object referencing the specified location. If one doesn&#39;t exist yet a new one...">metadb::handle_create()</a>. To obtain a list of <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a> objects corresponding to specific path (directory, playlist, multitrack file, etc), use relevant <a class="el" href="../../d8/d16/classplaylist__incoming__item__filter.html">playlist_incoming_item_filter</a> methods (recommended), or call <a class="el" href="../../db/df2/classplaylist__loader.html" title="Service handling playlist file operations. There are multiple implementations handling different play...">playlist_loader</a> methods directly.<br />
A <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a> is also the most efficient way of passing playable object locations around because it provides fast access to both location and infos, and is reference counted so duplicating it is as fast as possible.<br />
To retrieve a path of a file from a <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a>, use <a class="el" href="../../de/d38/classmetadb__handle.html#ad0a42fb64297c961da9e2d2a5df3230d" title="Retrieves path of item described by this metadb_handle instance. Returned string is valid until calli...">metadb_handle::get_path()</a> function. Note that <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a> is NOT just file path, some formats support multiple subsongs per physical file, which are signaled using subsong indexes. </p>

<p>Definition at line <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html#l00019">19</a> of file <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html">metadb_handle.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a375c54e1c21897199ab21152543c1ad5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">metadb_handle::__declspec </td>
          <td>(</td>
          <td class="paramtype">deprecated&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OBSOLETE, DO NOT CALL. </p>

</div>
</div>
<a class="anchor" id="a66bff38f5f0479571e0bd12ee2b79e64"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">metadb_handle::__declspec </td>
          <td>(</td>
          <td class="paramtype">deprecated&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OBSOLETE, DO NOT CALL. </p>

</div>
</div>
<a class="anchor" id="af16aad7147a43a8abfa951d33246da83"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">metadb_handle::__declspec </td>
          <td>(</td>
          <td class="paramtype">deprecated&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OBSOLETE, DO NOT CALL. </p>

</div>
</div>
<a class="anchor" id="ad93101d52d2cd2eb512a25c35dd42778"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">metadb_handle::__declspec </td>
          <td>(</td>
          <td class="paramtype">deprecated&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OBSOLETE, DO NOT CALL. </p>

</div>
</div>
<a class="anchor" id="a746e3a683632c6eff01bff477a23c2e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">metadb_handle::__declspec </td>
          <td>(</td>
          <td class="paramtype">deprecated&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OBSOLETE, DO NOT CALL. </p>

</div>
</div>
<a class="anchor" id="a33b0790e900be9a87e8d73c686ea13d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">metadb_handle::__declspec </td>
          <td>(</td>
          <td class="paramtype">deprecated&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OBSOLETE, DO NOT CALL. </p>

</div>
</div>
<a class="anchor" id="a4168d70378f905b387e28249ad6b0426"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">metadb_handle::__declspec </td>
          <td>(</td>
          <td class="paramtype">deprecated&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OBSOLETE, DO NOT CALL. </p>

</div>
</div>
<a class="anchor" id="a575aaf2da276f72a9eecf04619e4c181"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">metadb_handle::FB2K_MAKE_SERVICE_INTERFACE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d38/classmetadb__handle.html">metadb_handle</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dc3/classservice__base.html">service_base</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aaa909970eb0cf94a936b92970ecce7ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool metadb_handle::format_title </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d1c/classtitleformat__hook.html">titleformat_hook</a> *&#160;</td>
          <td class="paramname"><em>p_hook</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a> &amp;&#160;</td>
          <td class="paramname"><em>p_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t</a>&lt; <a class="el" href="../../d2/d9c/classtitleformat__object.html">titleformat_object</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>p_script</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/ddd/classtitleformat__text__filter.html">titleformat_text_filter</a> *&#160;</td>
          <td class="paramname"><em>p_filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Renders information about item referenced by this <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_hook</td><td>Optional callback object overriding fields and functions; set to NULL if not used. </td></tr>
    <tr><td class="paramname">p_out</td><td>String receiving the output on success. </td></tr>
    <tr><td class="paramname">p_script</td><td>Titleformat script to use. Use <a class="el" href="../../d4/dcd/classtitleformat__compiler.html" title="Standard service for instantiating titleformat_object. Implemented by the core; do not reimplement...">titleformat_compiler</a> service to create one. </td></tr>
    <tr><td class="paramname">p_filter</td><td>Optional callback object allowing input to be filtered according to context (i.e. removal of linebreak characters present in tags when rendering playlist lines). Set to NULL when not used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false when dummy <a class="el" href="../../de/dff/classfile__info.html" title="Main interface class for information about some playable object. ">file_info</a> instance was used because actual info is was not (yet) known. </dd></dl>

</div>
</div>
<a class="anchor" id="ab5a0d1abb2635b26e5ab8d072edaa982"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void metadb_handle::format_title_from_external_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../de/dff/classfile__info.html">file_info</a> &amp;&#160;</td>
          <td class="paramname"><em>p_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d1c/classtitleformat__hook.html">titleformat_hook</a> *&#160;</td>
          <td class="paramname"><em>p_hook</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a> &amp;&#160;</td>
          <td class="paramname"><em>p_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t</a>&lt; <a class="el" href="../../d2/d9c/classtitleformat__object.html">titleformat_object</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>p_script</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/ddd/classtitleformat__text__filter.html">titleformat_text_filter</a> *&#160;</td>
          <td class="paramname"><em>p_filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Renders information about item referenced by this <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a> object, using external <a class="el" href="../../de/dff/classfile__info.html" title="Main interface class for information about some playable object. ">file_info</a> data. </p>

</div>
</div>
<a class="anchor" id="af5d2138e3b58b4688f3ad854f93a66a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool metadb_handle::format_title_legacy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d1c/classtitleformat__hook.html">titleformat_hook</a> *&#160;</td>
          <td class="paramname"><em>p_hook</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a> &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> char *&#160;</td>
          <td class="paramname"><em>p_spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/ddd/classtitleformat__text__filter.html">titleformat_text_filter</a> *&#160;</td>
          <td class="paramname"><em>p_filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper provided for backwards compatibility; takes formatting script as text string and calls relevant <a class="el" href="../../d4/dcd/classtitleformat__compiler.html" title="Standard service for instantiating titleformat_object. Implemented by the core; do not reimplement...">titleformat_compiler</a> methods; returns false when the script could not be compiled.<br />
See <a class="el" href="../../de/d38/classmetadb__handle.html#aaa909970eb0cf94a936b92970ecce7ae" title="Renders information about item referenced by this metadb_handle object. ">format_title()</a> for descriptions of parameters.<br />
Bottleneck warning: you should consider using precompiled titleformat script object and calling regular <a class="el" href="../../de/d38/classmetadb__handle.html#aaa909970eb0cf94a936b92970ecce7ae" title="Renders information about item referenced by this metadb_handle object. ">format_title()</a> instead when processing large numbers of items. </p>

<p>Definition at line <a class="el" href="../../df/d85/metadb__handle_8cpp_source.html#l00019">19</a> of file <a class="el" href="../../df/d85/metadb__handle_8cpp_source.html">metadb_handle.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;{</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <a class="code" href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t&lt;titleformat_object&gt;</a> script;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/da4/classstatic__api__ptr__t.html">static_api_ptr_t&lt;titleformat_compiler&gt;</a>()-&gt;compile(script,p_spec)) {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../de/d38/classmetadb__handle.html#aaa909970eb0cf94a936b92970ecce7ae">format_title</a>(p_hook,<a class="code" href="../../de/d38/classmetadb__handle.html#a0fa2dc40d438fe91a0ad3a8b905c2885">p_out</a>,script,p_filter);</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        <a class="code" href="../../de/d38/classmetadb__handle.html#a0fa2dc40d438fe91a0ad3a8b905c2885">p_out</a>.<a class="code" href="../../d5/d74/classpfc_1_1string__base.html#a377fd52e6bc50d1a561cbf5bb1aa6e83">reset</a>();</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    }</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div>
<div class="ttc" id="classmetadb__handle_html_a0fa2dc40d438fe91a0ad3a8b905c2885"><div class="ttname"><a href="../../de/d38/classmetadb__handle.html#a0fa2dc40d438fe91a0ad3a8b905c2885">metadb_handle::p_out</a></div><div class="ttdeci">pfc::string_base &amp; p_out</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd4/metadb__handle_8h_source.html#l00066">metadb_handle.h:66</a></div></div>
<div class="ttc" id="classpfc_1_1string__base_html_a377fd52e6bc50d1a561cbf5bb1aa6e83"><div class="ttname"><a href="../../d5/d74/classpfc_1_1string__base.html#a377fd52e6bc50d1a561cbf5bb1aa6e83">pfc::string_base::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dee/string__base_8h_source.html#l00210">string_base.h:210</a></div></div>
<div class="ttc" id="classservice__ptr__t_html"><div class="ttname"><a href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t&lt; titleformat_object &gt;</a></div></div>
<div class="ttc" id="classstatic__api__ptr__t_html"><div class="ttname"><a href="../../d2/da4/classstatic__api__ptr__t.html">static_api_ptr_t</a></div><div class="ttdoc">Helper template used to easily access core services.  Usage: static_api_ptr_t<myclass> api; api->doso...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d83/service_8h_source.html#l00533">service.h:533</a></div></div>
<div class="ttc" id="classmetadb__handle_html_aaa909970eb0cf94a936b92970ecce7ae"><div class="ttname"><a href="../../de/d38/classmetadb__handle.html#aaa909970eb0cf94a936b92970ecce7ae">metadb_handle::format_title</a></div><div class="ttdeci">virtual bool format_title(titleformat_hook *p_hook, pfc::string_base &amp;p_out, const service_ptr_t&lt; titleformat_object &gt; &amp;p_script, titleformat_text_filter *p_filter)=0</div><div class="ttdoc">Renders information about item referenced by this metadb_handle object. </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a54adc62da7b148426f5501c9e69095b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool metadb_handle::g_should_reload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> t_filestats &amp;&#160;</td>
          <td class="paramname"><em>p_old_stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> t_filestats &amp;&#160;</td>
          <td class="paramname"><em>p_new_stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>p_fresh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d85/metadb__handle_8cpp_source.html#l00032">32</a> of file <a class="el" href="../../df/d85/metadb__handle_8cpp_source.html">metadb_handle.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;{</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">if</span> (p_new_stats.m_timestamp == <a class="code" href="../../dc/dea/namespacefoobar2000__io.html#a4a62e87ee6d7865f05d3866898ecaf5a">filetimestamp_invalid</a>) <span class="keywordflow">return</span> p_fresh;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p_fresh) <span class="keywordflow">return</span> p_old_stats!= p_new_stats;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">return</span> p_old_stats.m_timestamp &lt; p_new_stats.m_timestamp;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div>
<div class="ttc" id="namespacefoobar2000__io_html_a4a62e87ee6d7865f05d3866898ecaf5a"><div class="ttname"><a href="../../dc/dea/namespacefoobar2000__io.html#a4a62e87ee6d7865f05d3866898ecaf5a">foobar2000_io::filetimestamp_invalid</a></div><div class="ttdeci">const t_filetimestamp filetimestamp_invalid</div><div class="ttdoc">Invalid/unknown file timestamp constant. Also see: t_filetimestamp. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dd8/filesystem_8h_source.html#l00014">filesystem.h:14</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a84658fa0786994c9467045dc96831450"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool metadb_handle::get_async_info_ref </td>
          <td>(</td>
          <td class="paramtype">metadb_info_container::ptr &amp;&#160;</td>
          <td class="paramname"><em>outInfo</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section since"><dt>Since</dt><dd>1.3 Retrieve a reference to the async info (pending info update). If async info isn't set, a reference to the primary info is returned.<br />
You can hold the reference to the info as long as you like, call the method in any context you like with no lock semantics involved. The info held by the returned reference will remain constant even if the metadb content changes. Returns true and sets outInfo to a reference to this item's async or primary info on success, returns false on failure (no info known at this time). </dd></dl>

</div>
</div>
<a class="anchor" id="a88e378aee694c8d718e2a5cdc3f27509"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual metadb_info_container::ptr metadb_handle::get_async_info_ref </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Simplified method, always returns non-null, dummy info if nothing to return. </p>

</div>
</div>
<a class="anchor" id="a79f1b9a3b39851601c57a1c8f092d547"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool metadb_handle::get_browse_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dff/classfile__info.html">file_info</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">t_filetimestamp &amp;&#160;</td>
          <td class="paramname"><em>ts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>New in 1.0. </p>

</div>
</div>
<a class="anchor" id="a42ef7db2c1b6481493245d20644e4996"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool metadb_handle::get_browse_info_merged </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dff/classfile__info.html">file_info</a> &amp;&#160;</td>
          <td class="paramname"><em>infoMerged</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section since"><dt>Since</dt><dd>1.3 Helper using <a class="el" href="../../de/d38/classmetadb__handle.html#abd45e1c1910cde322e442fe9622d68c1">get_browse_info_ref()</a> Retrieves primary info + browse info merged together. Returns true on success, false if neither info is available. If neither info is avaialble, output data structure is emptied. </dd></dl>

<p>Definition at line <a class="el" href="../../df/d85/metadb__handle_8cpp_source.html#l00046">46</a> of file <a class="el" href="../../df/d85/metadb__handle_8cpp_source.html">metadb_handle.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                                                       {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordtype">bool</span> rv = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    metadb_info_container::ptr <a class="code" href="../../dc/daa/namespaceconsole.html#adfbe42c6a71db21b7a36cf04e60b6d6e">info</a>, browse;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    this-&gt;<a class="code" href="../../de/d38/classmetadb__handle.html#abd45e1c1910cde322e442fe9622d68c1">get_browse_info_ref</a>(info, browse);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">if</span> (info.is_valid() &amp;&amp; browse.is_valid()) {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        infoMerged = info-&gt;info();</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        infoMerged.<a class="code" href="../../de/dff/classfile__info.html#a9cce9db4f4e766cbc0193ed1ccc1e9a1">merge_fallback</a>( browse-&gt;info() );</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (info.is_valid()) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        infoMerged = info-&gt;info();</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (browse.is_valid()) {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        infoMerged = browse-&gt;info();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        infoMerged.<a class="code" href="../../de/dff/classfile__info.html#a5aed0d45290557327c95a3a1d5819c51">reset</a>();</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        rv = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">return</span> rv;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
<div class="ttc" id="classmetadb__handle_html_abd45e1c1910cde322e442fe9622d68c1"><div class="ttname"><a href="../../de/d38/classmetadb__handle.html#abd45e1c1910cde322e442fe9622d68c1">metadb_handle::get_browse_info_ref</a></div><div class="ttdeci">virtual void get_browse_info_ref(metadb_info_container::ptr &amp;outInfo, metadb_info_container::ptr &amp;outBrowse) const =0</div></div>
<div class="ttc" id="namespaceconsole_html_adfbe42c6a71db21b7a36cf04e60b6d6e"><div class="ttname"><a href="../../dc/daa/namespaceconsole.html#adfbe42c6a71db21b7a36cf04e60b6d6e">console::info</a></div><div class="ttdeci">void info(const char *p_message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dda/console_8cpp_source.html#l00004">console.cpp:4</a></div></div>
<div class="ttc" id="classfile__info_html_a9cce9db4f4e766cbc0193ed1ccc1e9a1"><div class="ttname"><a href="../../de/dff/classfile__info.html#a9cce9db4f4e766cbc0193ed1ccc1e9a1">file_info::merge_fallback</a></div><div class="ttdeci">void merge_fallback(const file_info &amp;fallback)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d97/file__info__merge_8cpp_source.html#l00134">file_info_merge.cpp:134</a></div></div>
<div class="ttc" id="classfile__info_html_a5aed0d45290557327c95a3a1d5819c51"><div class="ttname"><a href="../../de/dff/classfile__info.html#a5aed0d45290557327c95a3a1d5819c51">file_info::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d27/file__info_8cpp_source.html#l00287">file_info.cpp:287</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abd45e1c1910cde322e442fe9622d68c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void metadb_handle::get_browse_info_ref </td>
          <td>(</td>
          <td class="paramtype">metadb_info_container::ptr &amp;&#160;</td>
          <td class="paramname"><em>outInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">metadb_info_container::ptr &amp;&#160;</td>
          <td class="paramname"><em>outBrowse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section since"><dt>Since</dt><dd>1.3 Retrieve references to the item's primary and browse infos. If no info is set, NULL pointers are returned. For most local files, browse info is not available and you get a NULL for it.<br />
Since browse info is usually used along with the primary info (as a fallback for missing metas), you can get the two with one call for better performance. You can hold the reference to the info as long as you like, call the method in any context you like with no lock semantics involved. The info held by the returned reference will remain constant even if the metadb content changes. </dd></dl>

</div>
</div>
<a class="anchor" id="a7237f5a49347135f0e179ec2c311e00a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">t_filesize metadb_handle::get_filesize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d85/metadb__handle_8cpp_source.html#l00014">14</a> of file <a class="el" href="../../df/d85/metadb__handle_8cpp_source.html">metadb_handle.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;{</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/d38/classmetadb__handle.html#ac3037f37d98dd9486737aa8387262ee0">get_filestats</a>().m_size;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;}</div>
<div class="ttc" id="classmetadb__handle_html_ac3037f37d98dd9486737aa8387262ee0"><div class="ttname"><a href="../../de/d38/classmetadb__handle.html#ac3037f37d98dd9486737aa8387262ee0">metadb_handle::get_filestats</a></div><div class="ttdeci">virtual t_filestats get_filestats() const =0</div><div class="ttdoc">Returns last seen file stats, filestats_invalid if unknown. </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3037f37d98dd9486737aa8387262ee0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual t_filestats metadb_handle::get_filestats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns last seen file stats, filestats_invalid if unknown. </p>

</div>
</div>
<a class="anchor" id="a36a1ed7acfa41a0c40a9fca7dc9b6444"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">t_filetimestamp metadb_handle::get_filetimestamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d85/metadb__handle_8cpp_source.html#l00009">9</a> of file <a class="el" href="../../df/d85/metadb__handle_8cpp_source.html">metadb_handle.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;{</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/d38/classmetadb__handle.html#ac3037f37d98dd9486737aa8387262ee0">get_filestats</a>().m_timestamp;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;}</div>
<div class="ttc" id="classmetadb__handle_html_ac3037f37d98dd9486737aa8387262ee0"><div class="ttname"><a href="../../de/d38/classmetadb__handle.html#ac3037f37d98dd9486737aa8387262ee0">metadb_handle::get_filestats</a></div><div class="ttdeci">virtual t_filestats get_filestats() const =0</div><div class="ttdoc">Returns last seen file stats, filestats_invalid if unknown. </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a22fb0fa1bb02538f3b07a758baa83c3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">metadb_info_container::ptr metadb_handle::get_full_info_ref </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d6a/classabort__callback.html">abort_callback</a> &amp;&#160;</td>
          <td class="paramname"><em>aborter</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section since"><dt>Since</dt><dd>1.3 Retrieve full info using available means - read actual file if not cached. <br />
Throws exceptions on failure. </dd></dl>

<p>Definition at line <a class="el" href="../../df/d85/metadb__handle_8cpp_source.html#l00085">85</a> of file <a class="el" href="../../df/d85/metadb__handle_8cpp_source.html">metadb_handle.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                                                                          {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        metadb_info_container::ptr <a class="code" href="../../dc/daa/namespaceconsole.html#adfbe42c6a71db21b7a36cf04e60b6d6e">info</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../de/d38/classmetadb__handle.html#ac7239b98da5beaa1ffd7bfffc71ca01c">get_info_ref</a>( info ) ) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <span class="keywordflow">if</span> (!info-&gt;isInfoPartial()) <span class="keywordflow">return</span> info;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    input_info_reader::ptr reader;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="../../d9/d86/classinput__entry.html#aec4b18a10abbae29ea6edd9ab7f10b9a">input_entry::g_open_for_info_read</a>( reader, NULL, this-&gt;<a class="code" href="../../de/d38/classmetadb__handle.html#ad0a42fb64297c961da9e2d2a5df3230d">get_path</a>(), aborter );</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t&lt; metadb_info_container_impl &gt;</a> obj = <span class="keyword">new</span> <a class="code" href="../../df/df3/classservice__impl__t.html">service_impl_t&lt;metadb_info_container_impl&gt;</a>();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    obj-&gt;m_stats = reader-&gt;get_file_stats( aborter );</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    reader-&gt;get_info( this-&gt;<a class="code" href="../../de/d38/classmetadb__handle.html#ade984867c7257131af453f2224d4d1e1">get_subsong_index</a>(), obj-&gt;m_info, aborter );</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">return</span> obj;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div>
<div class="ttc" id="classservice__impl__t_html"><div class="ttname"><a href="../../df/df3/classservice__impl__t.html">service_impl_t</a></div><div class="ttdoc">Template implementing reference-counting features of service_base. Intended for dynamic instantiation...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbb/service__impl_8h_source.html#l00004">service_impl.h:4</a></div></div>
<div class="ttc" id="namespaceconsole_html_adfbe42c6a71db21b7a36cf04e60b6d6e"><div class="ttname"><a href="../../dc/daa/namespaceconsole.html#adfbe42c6a71db21b7a36cf04e60b6d6e">console::info</a></div><div class="ttdeci">void info(const char *p_message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dda/console_8cpp_source.html#l00004">console.cpp:4</a></div></div>
<div class="ttc" id="classmetadb__handle_html_ad0a42fb64297c961da9e2d2a5df3230d"><div class="ttname"><a href="../../de/d38/classmetadb__handle.html#ad0a42fb64297c961da9e2d2a5df3230d">metadb_handle::get_path</a></div><div class="ttdeci">const char * get_path() const </div><div class="ttdoc">Retrieves path of item described by this metadb_handle instance. Returned string is valid until calli...</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd4/metadb__handle_8h_source.html#l00125">metadb_handle.h:125</a></div></div>
<div class="ttc" id="classinput__entry_html_aec4b18a10abbae29ea6edd9ab7f10b9a"><div class="ttname"><a href="../../d9/d86/classinput__entry.html#aec4b18a10abbae29ea6edd9ab7f10b9a">input_entry::g_open_for_info_read</a></div><div class="ttdeci">static void g_open_for_info_read(service_ptr_t&lt; input_info_reader &gt; &amp;p_instance, service_ptr_t&lt; file &gt; p_filehint, const char *p_path, abort_callback &amp;p_abort, bool p_from_redirect=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d8c/input_8cpp_source.html#l00175">input.cpp:175</a></div></div>
<div class="ttc" id="classservice__ptr__t_html"><div class="ttname"><a href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t</a></div><div class="ttdoc">Autopointer class to be used with all services. Manages reference counter calls behind-the-scenes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d83/service_8h_source.html#l00055">service.h:55</a></div></div>
<div class="ttc" id="classmetadb__handle_html_ac7239b98da5beaa1ffd7bfffc71ca01c"><div class="ttname"><a href="../../de/d38/classmetadb__handle.html#ac7239b98da5beaa1ffd7bfffc71ca01c">metadb_handle::get_info_ref</a></div><div class="ttdeci">virtual metadb_info_container::ptr get_info_ref() const =0</div><div class="ttdoc">Simplified method, always returns non-null, dummy info if nothing to return. </div></div>
<div class="ttc" id="classmetadb__handle_html_ade984867c7257131af453f2224d4d1e1"><div class="ttname"><a href="../../de/d38/classmetadb__handle.html#ade984867c7257131af453f2224d4d1e1">metadb_handle::get_subsong_index</a></div><div class="ttdeci">t_uint32 get_subsong_index() const </div><div class="ttdoc">Retrieves subsong index of item described by this metadb_handle instance (used for multiple playable ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd4/metadb__handle_8h_source.html#l00127">metadb_handle.h:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a63def7286c4944a17c5157ada9dbebaa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool metadb_handle::get_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dff/classfile__info.html">file_info</a> &amp;&#160;</td>
          <td class="paramname"><em>p_info</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queries cached info about item referenced by this <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a> object. Returns true on success, false when info is not yet known. Note that this function causes the metadb to be temporarily locked; you can not use it in context that where locking is forbidden. <br />
Note that state of cached info changes only inside main thread, so you can safely assume that it doesn't change while some block of your code inside main thread is being executed. </p>

</div>
</div>
<a class="anchor" id="abf320a2c3b91814b3369ac8f90001d45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool metadb_handle::get_info_async </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dff/classfile__info.html">file_info</a> &amp;&#160;</td>
          <td class="paramname"><em>p_info</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queries cached info about item referenced by this <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a> object. Returns true on success, false when info is not yet known. Note that this function causes the metadb to be temporarily locked; you can not use it in context that where locking is forbidden.<br />
This is intended for use in special cases when you need to immediately retrieve info sent by <a class="el" href="../../d9/d31/classmetadb__io.html" title="API for tag read/write operations. Legal to call from main thread only, except for hint_multi_async()...">metadb_io</a> hint from another thread; state of returned data can be altered by any thread, as opposed to non-async methods. </p>

</div>
</div>
<a class="anchor" id="ace1574d21eda06a50fd7103674113f02"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool metadb_handle::get_info_ref </td>
          <td>(</td>
          <td class="paramtype">metadb_info_container::ptr &amp;&#160;</td>
          <td class="paramname"><em>outInfo</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section since"><dt>Since</dt><dd>1.3 Retrieve a reference to the primary info. <br />
You can hold the reference to the info as long as you like, call the method in any context you like with no lock semantics involved. The info held by the returned reference will remain constant even if the metadb content changes. Returns true and sets outInfo to a reference to this item's primary info on success, returns false on failure (no info known at this time). </dd></dl>

</div>
</div>
<a class="anchor" id="ac7239b98da5beaa1ffd7bfffc71ca01c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual metadb_info_container::ptr metadb_handle::get_info_ref </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Simplified method, always returns non-null, dummy info if nothing to return. </p>

</div>
</div>
<a class="anchor" id="a4faa30071c5b32cb71fb30d2575f4002"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double metadb_handle::get_length </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d85/metadb__handle_8cpp_source.html#l00004">4</a> of file <a class="el" href="../../df/d85/metadb__handle_8cpp_source.html">metadb_handle.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;{</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="../../de/d38/classmetadb__handle.html#ac7239b98da5beaa1ffd7bfffc71ca01c">get_info_ref</a>()-&gt;info().get_length();</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;}</div>
<div class="ttc" id="classmetadb__handle_html_ac7239b98da5beaa1ffd7bfffc71ca01c"><div class="ttname"><a href="../../de/d38/classmetadb__handle.html#ac7239b98da5beaa1ffd7bfffc71ca01c">metadb_handle::get_info_ref</a></div><div class="ttdeci">virtual metadb_info_container::ptr get_info_ref() const =0</div><div class="ttdoc">Simplified method, always returns non-null, dummy info if nothing to return. </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3d36e1903df8cb3657f2f7f2fff28b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../d6/d67/classplayable__location.html">playable_location</a>&amp; metadb_handle::get_location </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves location represented by this <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a> object. Returned reference is valid until calling context releases <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a> that returned it (metadb_handle_ptr is deallocated etc). </p>

</div>
</div>
<a class="anchor" id="ad0a42fb64297c961da9e2d2a5df3230d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> char* metadb_handle::get_path </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves path of item described by this <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a> instance. Returned string is valid until calling context releases <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a> that returned it (metadb_handle_ptr is deallocated etc). </p>

<p>Definition at line <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html#l00125">125</a> of file <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html">metadb_handle.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{<span class="keywordflow">return</span> <a class="code" href="../../de/d38/classmetadb__handle.html#ac3d36e1903df8cb3657f2f7f2fff28b1">get_location</a>().<a class="code" href="../../d6/d67/classplayable__location.html#ade86646801a481d48504ebc887dae873">get_path</a>();}</div>
<div class="ttc" id="classplayable__location_html_ade86646801a481d48504ebc887dae873"><div class="ttname"><a href="../../d6/d67/classplayable__location.html#ade86646801a481d48504ebc887dae873">playable_location::get_path</a></div><div class="ttdeci">virtual const char * get_path() const =0</div></div>
<div class="ttc" id="classmetadb__handle_html_ac3d36e1903df8cb3657f2f7f2fff28b1"><div class="ttname"><a href="../../de/d38/classmetadb__handle.html#ac3d36e1903df8cb3657f2f7f2fff28b1">metadb_handle::get_location</a></div><div class="ttdeci">virtual const playable_location &amp; get_location() const =0</div><div class="ttdoc">Retrieves location represented by this metadb_handle object. Returned reference is valid until callin...</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ade984867c7257131af453f2224d4d1e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8c/int__types_8h.html#ae3414e477e7bba6c40aac28eb0b5299c">t_uint32</a> metadb_handle::get_subsong_index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves subsong index of item described by this <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a> instance (used for multiple playable tracks within single physical file). </p>

<p>Definition at line <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html#l00127">127</a> of file <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html">metadb_handle.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{<span class="keywordflow">return</span> <a class="code" href="../../de/d38/classmetadb__handle.html#ac3d36e1903df8cb3657f2f7f2fff28b1">get_location</a>().<a class="code" href="../../d6/d67/classplayable__location.html#a5d74877683a2b2405f602a45dda12142">get_subsong_index</a>();}</div>
<div class="ttc" id="classmetadb__handle_html_ac3d36e1903df8cb3657f2f7f2fff28b1"><div class="ttname"><a href="../../de/d38/classmetadb__handle.html#ac3d36e1903df8cb3657f2f7f2fff28b1">metadb_handle::get_location</a></div><div class="ttdeci">virtual const playable_location &amp; get_location() const =0</div><div class="ttdoc">Retrieves location represented by this metadb_handle object. Returned reference is valid until callin...</div></div>
<div class="ttc" id="classplayable__location_html_a5d74877683a2b2405f602a45dda12142"><div class="ttname"><a href="../../d6/d67/classplayable__location.html#a5d74877683a2b2405f602a45dda12142">playable_location::get_subsong_index</a></div><div class="ttdeci">t_uint32 get_subsong_index() const </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d18/playable__location_8h_source.html#l00033">playable_location.h:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2ee4702b1f892f4bb95fed72cb39e85e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool metadb_handle::is_info_loaded </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queries whether cached info about item referenced by this <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a> object is already available. Note that this function causes the metadb to be temporarily locked; you can not use it in context that where locking is forbidden.<br />
Note that state of cached info changes only inside main thread, so you can safely assume that it doesn't change while some block of your code inside main thread is being executed. </p>

</div>
</div>
<a class="anchor" id="af4c4ee91c3e109c5c0ed67bb85070d26"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool metadb_handle::is_info_loaded_async </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queries whether cached info about item referenced by this <a class="el" href="../../de/d38/classmetadb__handle.html" title="A metadb_handle object represents interface to reference-counted file_info cache entry for the specif...">metadb_handle</a> object is already available.<br />
This is intended for use in special cases when you need to immediately retrieve info sent by <a class="el" href="../../d9/d31/classmetadb__io.html" title="API for tag read/write operations. Legal to call from main thread only, except for hint_multi_async()...">metadb_io</a> hint from another thread; state of returned data can be altered by any thread, as opposed to non-async methods. </p>

</div>
</div>
<a class="anchor" id="a785f5508666d66aed8eab54340f2ca7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool metadb_handle::should_reload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> t_filestats &amp;&#160;</td>
          <td class="paramname"><em>p_new_stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>p_fresh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d85/metadb__handle_8cpp_source.html#l00039">39</a> of file <a class="el" href="../../df/d85/metadb__handle_8cpp_source.html">metadb_handle.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;{</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../de/d38/classmetadb__handle.html#af4c4ee91c3e109c5c0ed67bb85070d26">is_info_loaded_async</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="../../de/d38/classmetadb__handle.html#a54adc62da7b148426f5501c9e69095b9">g_should_reload</a>(<a class="code" href="../../de/d38/classmetadb__handle.html#ac3037f37d98dd9486737aa8387262ee0">get_filestats</a>(),p_new_stats,p_fresh);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
<div class="ttc" id="classmetadb__handle_html_ac3037f37d98dd9486737aa8387262ee0"><div class="ttname"><a href="../../de/d38/classmetadb__handle.html#ac3037f37d98dd9486737aa8387262ee0">metadb_handle::get_filestats</a></div><div class="ttdeci">virtual t_filestats get_filestats() const =0</div><div class="ttdoc">Returns last seen file stats, filestats_invalid if unknown. </div></div>
<div class="ttc" id="classmetadb__handle_html_a54adc62da7b148426f5501c9e69095b9"><div class="ttname"><a href="../../de/d38/classmetadb__handle.html#a54adc62da7b148426f5501c9e69095b9">metadb_handle::g_should_reload</a></div><div class="ttdeci">static bool g_should_reload(const t_filestats &amp;p_old_stats, const t_filestats &amp;p_new_stats, bool p_fresh)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d85/metadb__handle_8cpp_source.html#l00032">metadb_handle.cpp:32</a></div></div>
<div class="ttc" id="classmetadb__handle_html_af4c4ee91c3e109c5c0ed67bb85070d26"><div class="ttname"><a href="../../de/d38/classmetadb__handle.html#af4c4ee91c3e109c5c0ed67bb85070d26">metadb_handle::is_info_loaded_async</a></div><div class="ttdeci">virtual bool is_info_loaded_async() const =0</div><div class="ttdoc">Queries whether cached info about item referenced by this metadb_handle object is already available...</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a804001b3e185be09dca8f385d283d004"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">t_filetimestamp&amp; ts metadb_handle::const = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html#l00075">75</a> of file <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html">metadb_handle.h</a>.</p>

</div>
</div>
<a class="anchor" id="a88c3f0ae49bce58eb610ab6f716fff85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a> <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t</a>&lt;<a class="el" href="../../d2/d9c/classtitleformat__object.html">titleformat_object</a>&gt; <a class="el" href="../../dd/ddd/classtitleformat__text__filter.html">titleformat_text_filter</a>* metadb_handle::p_filter = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html#l00066">66</a> of file <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html">metadb_handle.h</a>.</p>

</div>
</div>
<a class="anchor" id="a573784d5daa675ad694655e226f627da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d1c/classtitleformat__hook.html">titleformat_hook</a> <a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a> <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t</a>&lt;<a class="el" href="../../d2/d9c/classtitleformat__object.html">titleformat_object</a>&gt; <a class="el" href="../../dd/ddd/classtitleformat__text__filter.html">titleformat_text_filter</a>* metadb_handle::p_filter = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html#l00068">68</a> of file <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html">metadb_handle.h</a>.</p>

</div>
</div>
<a class="anchor" id="a26ccb9226f0af78bdbf5860cd2d3bac0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d1c/classtitleformat__hook.html">titleformat_hook</a>* metadb_handle::p_hook</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html#l00068">68</a> of file <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html">metadb_handle.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0fa2dc40d438fe91a0ad3a8b905c2885"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a>&amp; metadb_handle::p_out</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html#l00066">66</a> of file <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html">metadb_handle.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac8bc696078615a6088ad78430fa772a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d1c/classtitleformat__hook.html">titleformat_hook</a> <a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a>&amp; metadb_handle::p_out</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html#l00068">68</a> of file <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html">metadb_handle.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7debed447775e1e9dbc22393fd9e7a7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a> <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t</a>&lt;<a class="el" href="../../d2/d9c/classtitleformat__object.html">titleformat_object</a>&gt;&amp; metadb_handle::p_script</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html#l00066">66</a> of file <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html">metadb_handle.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4b24ab857897d1b5bf0107b835af56b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d1c/classtitleformat__hook.html">titleformat_hook</a> <a class="el" href="../../d5/d74/classpfc_1_1string__base.html">pfc::string_base</a> <a class="el" href="../../de/d38/classmetadb__handle.html#a804001b3e185be09dca8f385d283d004">const</a> <a class="el" href="../../d4/d8a/classservice__ptr__t.html">service_ptr_t</a>&lt;<a class="el" href="../../d2/d9c/classtitleformat__object.html">titleformat_object</a>&gt;&amp; metadb_handle::p_script</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html#l00068">68</a> of file <a class="el" href="../../d2/dd4/metadb__handle_8h_source.html">metadb_handle.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>foobar2000/SDK/<a class="el" href="../../d2/dd4/metadb__handle_8h_source.html">metadb_handle.h</a></li>
<li>foobar2000/SDK/<a class="el" href="../../df/d85/metadb__handle_8cpp_source.html">metadb_handle.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
